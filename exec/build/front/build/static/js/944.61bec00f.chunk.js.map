{"version":3,"file":"static/js/944.61bec00f.chunk.js","mappings":"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","sources":["components/common/InFinityScroll.tsx","assets/images/RightArrow.svg","assets/images/LeftArrow.svg","apis/feed.ts","components/FeedPage/CardCarousel.tsx","components/FeedPage/FeedUserItem.tsx","components/FeedPage/NonFeed.tsx","screens/FeedPage.tsx"],"sourcesContent":["import React, { useRef, useEffect, useCallback, useState } from \"react\";\r\nimport loadingSpinner from \"@images/LoadingSpinner.svg\";\r\nimport { useAppDispatch, useAppSelector } from \"@store/hooks\";\r\nimport {\r\n  resetInfinity,\r\n  setConditionList,\r\n  setIsLoading,\r\n  setUuid\r\n} from \"@store/ducks/infinity/infinitySlice\";\r\nimport CardList from \"./CardList\";\r\n\r\ntype InFinityScrollProps = {\r\n  type: string;\r\n  searchType: \"deal\" | \"tip\" | \"followTip\";\r\n  keyword: string | null;\r\n  category: string | undefined;\r\n  categorys: Array<string> | undefined;\r\n  state: string | undefined;\r\n  area: string | null;\r\n};\r\n\r\nfunction InFinityScroll({\r\n  type,\r\n  searchType,\r\n  keyword,\r\n  category,\r\n  categorys,\r\n  state,\r\n  area\r\n}: InFinityScrollProps) {\r\n  const observerTarget = useRef<HTMLDivElement>(null);\r\n  const dispatch = useAppDispatch();\r\n  const [firstLender, setFirstLender] = useState(false);\r\n  const { uuid, isEnd, isLoading, conditionList, lastIdx } = useAppSelector(\r\n    ({ infinity }) => ({\r\n      uuid: infinity.uuid,\r\n      isLoading: infinity.isLoading,\r\n      isEnd: infinity.isEnd,\r\n      conditionList: infinity.conditionList,\r\n      lastIdx: infinity.lastIdx\r\n    })\r\n  );\r\n  const onIntersect = (entries: IntersectionObserverEntry[]) => {\r\n    entries.forEach((entry: IntersectionObserverEntry) => {\r\n      if (entry.isIntersecting && !isLoading) {\r\n        dispatch(setUuid());\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(resetInfinity());\r\n    setFirstLender(true);\r\n  }, [type, searchType, keyword, category, categorys, state, area]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      dispatch(setIsLoading(true));\r\n      dispatch(\r\n        setConditionList({\r\n          type,\r\n          keyword,\r\n          category,\r\n          categorys,\r\n          state,\r\n          area\r\n        })\r\n      );\r\n    }\r\n  }, [uuid]);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(onIntersect, { threshold: 0.1 });\r\n    if (observerTarget.current) {\r\n      observer.observe(observerTarget.current);\r\n    }\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n  }, [isLoading]);\r\n\r\n  return (\r\n    <div id=\"infinity-study-card-list\">\r\n      <ul className=\"flex column\">\r\n        {firstLender &&\r\n          conditionList.length !== 0 &&\r\n          conditionList.map(condition => (\r\n            <CardList\r\n              searchType={searchType}\r\n              condition={condition}\r\n              key={condition.lastIdx}\r\n              pure={false}\r\n            />\r\n          ))}\r\n      </ul>\r\n      {!isEnd && (\r\n        <div className=\"flex justify-center\">\r\n          {isLoading ? (\r\n            <img\r\n              src={loadingSpinner}\r\n              title=\"로딩스피너\"\r\n              alt=\"로딩스피너\"\r\n              className=\"loading-spinner\"\r\n            />\r\n          ) : (\r\n            <div ref={observerTarget} className=\"observerTarget\" />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InFinityScroll;\r\n","var _style, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRightArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 64 64\"\n    },\n    viewBox: \"0 0 64 64\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\r\\n\\t.st0{fill:#134563;}\\r\\n\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Icon-Chevron-Left\",\n    transform: \"translate(237.000000, 335.000000)\"\n  }, /*#__PURE__*/React.createElement(\"polyline\", {\n    className: \"st0\",\n    id: \"Fill-35\",\n    points: \"-210.9,-289 -212.9,-291 -201.1,-302.7 -212.9,-314.4 -210.9,-316.4 -197.1,-302.7      -210.9,-289    \"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRightArrow);\nexport default __webpack_public_path__ + \"static/media/RightArrow.25db681ebbdd27f1e7b7701b6941c606.svg\";\nexport { ForwardRef as ReactComponent };","var _style, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLeftArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 64 64\"\n    },\n    viewBox: \"0 0 64 64\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\r\\n\\t.st0{fill:#134563;}\\r\\n\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Icon-Chevron-Left\",\n    transform: \"translate(237.000000, 335.000000)\"\n  }, /*#__PURE__*/React.createElement(\"polyline\", {\n    className: \"st0\",\n    id: \"Fill-35\",\n    points: \"-199.1,-289 -212.9,-302.7 -199.1,-316.4 -197.1,-314.4 -208.9,-302.7 -197.1,-291      -199.1,-289    \"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLeftArrow);\nexport default __webpack_public_path__ + \"static/media/LeftArrow.819ad4bf303de7e829abaee896205aff.svg\";\nexport { ForwardRef as ReactComponent };","import API from \"./index\";\r\n\r\nexport const getPopUsers = async () => {\r\n  const accessToken = sessionStorage.getItem(\"access-token\");\r\n  const res = await API.get(\"/mainFeed/user\", {\r\n    headers: { Authorization: `${accessToken}` }\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const getHoneyDealList = async () => {\r\n  const accessToken = sessionStorage.getItem(\"access-token\");\r\n  const res = await API.get(\"/mainFeed/honeyDeal\", {\r\n    headers: { Authorization: `${accessToken}` }\r\n  });\r\n  return res.data;\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./CardCarousel.scss\";\r\nimport { v4 } from \"uuid\";\r\nimport rArrow from \"@images/RightArrow.svg\";\r\nimport lArrow from \"@images/LeftArrow.svg\";\r\nimport { getHoneyDealList } from \"@apis/feed\";\r\nimport Card, { CardType } from \"@components/common/Card\";\r\nimport CardSkeleton from \"@components/common/CardSkeleton\";\r\nimport { useAppSelector } from \"@store/hooks\";\r\n\r\nfunction CardCarousel() {\r\n  const [cardList, setCardList] = useState<Array<CardType>>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const likeCategorys = useAppSelector(state => state.auth.userInfo?.categorys);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await getHoneyDealList();\r\n      if (res.result === \"SUCCESS\") {\r\n        setCardList(res.data);\r\n      }\r\n      setIsLoading(true);\r\n    })();\r\n  }, []);\r\n  const [currentView, setCurrentView] = useState({\r\n    total: 0,\r\n    trans: 0\r\n  });\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const slideRef = useRef<HTMLDivElement>(null);\r\n  const nextSlide = () => {\r\n    if (currentSlide >= currentView.total) {\r\n      setCurrentSlide(0);\r\n    } else {\r\n      setCurrentSlide(currentSlide + 1);\r\n    }\r\n  };\r\n  const prevSlide = () => {\r\n    if (currentSlide === 0) {\r\n      setCurrentSlide(currentView.total);\r\n    } else {\r\n      setCurrentSlide(currentSlide - 1);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (slideRef.current !== null) {\r\n      slideRef.current.style.transition = \"all 0.5s ease-in-out\";\r\n      slideRef.current.style.transform = `translateX(-${\r\n        currentSlide * currentView.trans\r\n      }%)`;\r\n    }\r\n  }, [currentSlide]);\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth > 768) {\r\n      setCurrentView({\r\n        total: 2,\r\n        trans: 40\r\n      });\r\n    } else if (window.innerWidth > 375) {\r\n      setCurrentView({\r\n        total: 3,\r\n        trans: 25\r\n      });\r\n    } else\r\n      setCurrentView({\r\n        total: 5,\r\n        trans: 16.7\r\n      });\r\n  }, [window.innerWidth]);\r\n\r\n  return (\r\n    <div id=\"usercarousel\">\r\n      {likeCategorys?.length === 0 ? (\r\n        <p className=\"no-category notoReg fs-28 flex align-center justify-center\">\r\n          관심 카테고리를 설정해주세요!\r\n        </p>\r\n      ) : (\r\n        <div className=\"container\">\r\n          {cardList && (\r\n            <div className=\"slider flex justify-center\" ref={slideRef}>\r\n              {isLoading ? (\r\n                cardList.length !== 0 ? (\r\n                  cardList.map(value => (\r\n                    <Card type=\"deal\" data={value} key={v4()} />\r\n                  ))\r\n                ) : (\r\n                  <p className=\"empty-message notoReg fs-28 flex align-center justify-center\">\r\n                    관심 카테고리에 알맞은 꿀딜이 없어요.\r\n                  </p>\r\n                )\r\n              ) : (\r\n                [0, 1, 2, 3, 4, 5].map(() => <CardSkeleton key={v4()} />)\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            className=\"prevbtn fs-48 flex\"\r\n            type=\"button\"\r\n            onClick={prevSlide}\r\n          >\r\n            <img src={lArrow} alt=\"lArrow\" />\r\n          </button>\r\n          <button\r\n            className=\"nextbtn fs-48 flex\"\r\n            type=\"button\"\r\n            onClick={nextSlide}\r\n          >\r\n            <img src={rArrow} alt=\"rArrow\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardCarousel;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./FeedUserItem.scss\";\r\nimport { v4 } from \"uuid\";\r\nimport UserDummyIcon from \"@images/UserDummy.svg\";\r\nimport { addFollow, delFollow } from \"@apis/userFeed\";\r\nimport { CardType } from \"@components/common/Card\";\r\nimport FeedListItem from \"@components/UserFeed/FeedListItem\";\r\n\r\ntype UserCardType = {\r\n  cnt: number;\r\n  follow_id: string;\r\n  follow_nickname: string;\r\n  profileImg: string | null;\r\n  tipViewDtoList: Array<CardType>;\r\n  isFollow: boolean;\r\n};\r\n\r\nfunction FeedUserItem({\r\n  data: {\r\n    follow_nickname: nickName,\r\n    profileImg,\r\n    tipViewDtoList: tipList,\r\n    cnt,\r\n    isFollow\r\n  },\r\n  changed\r\n}: {\r\n  data: UserCardType;\r\n  changed: () => void;\r\n}) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const setFollow = async () => {\r\n    if (!isLoading) {\r\n      setIsLoading(true);\r\n      if (isFollow) {\r\n        await delFollow(nickName);\r\n      } else {\r\n        await addFollow(nickName);\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n    changed();\r\n    return 0;\r\n  };\r\n  return (\r\n    <div id=\"feeduser-item\">\r\n      <div className=\"user-item flex\">\r\n        <div className=\"user-item-title flex\">\r\n          <Link to={`/userFeed/${nickName}`}>\r\n            <img\r\n              src={\r\n                profileImg\r\n                  ? `data:image/jpeg;base64,${profileImg}`\r\n                  : UserDummyIcon\r\n              }\r\n              alt=\"icon\"\r\n              className=\"user-item-title__img flex\"\r\n            />\r\n          </Link>\r\n          <div className=\"user-item-title__info flex column\">\r\n            <Link\r\n              to={`/userfeed/${nickName}`}\r\n              className=\"user-item-title__info__nickname notoMid \"\r\n            >\r\n              {nickName}\r\n            </Link>\r\n            <p className=\"user-item-title__info__cnt notoReg grey\">\r\n              팔로우 {cnt}\r\n            </p>\r\n            <button\r\n              onClick={setFollow}\r\n              type=\"button\"\r\n              className=\"info-button notoReg t-none\"\r\n            >\r\n              {isFollow ? \"언팔로우\" : \"팔로우\"}\r\n            </button>\r\n          </div>\r\n          <button\r\n            onClick={setFollow}\r\n            type=\"button\"\r\n            className=\"info-button notoReg t-show\"\r\n          >\r\n            {isFollow ? \"언팔로우\" : \"팔로우\"}\r\n          </button>\r\n        </div>\r\n        {tipList && (\r\n          <div className=\"user-item-body flex\">\r\n            {tipList.length !== 0 &&\r\n              tipList.map(feed => {\r\n                return (\r\n                  <FeedListItem\r\n                    key={v4()}\r\n                    type=\"tip\"\r\n                    feed={{\r\n                      idx: feed.idx,\r\n                      title: \"\",\r\n                      bannerImg: feed.bannerImg,\r\n                      likeCnt: feed.likes,\r\n                      commentCnt: feed.comment,\r\n                      viewCnt: feed.view\r\n                    }}\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default FeedUserItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 } from \"uuid\";\r\nimport \"./NonFeed.scss\";\r\nimport loadingSpinner from \"@images/LoadingSpinner.svg\";\r\nimport { getPopUsers } from \"@apis/feed\";\r\nimport FeedUserItem from \"./FeedUserItem\";\r\n\r\ntype NonFeedProps = {\r\n  changed: () => void;\r\n};\r\n\r\nfunction NonFeed({ changed }: NonFeedProps) {\r\n  const [popUsers, setPopUsers] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await getPopUsers();\r\n      if (res.result === \"SUCCESS\") {\r\n        setPopUsers(res.data);\r\n        setIsLoading(true);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"nonfeed-page\">\r\n      <div className=\"title flex column\">\r\n        <div className=\"flex column align-center\">\r\n          <p className=\"title-title notoMid\">팔로우 된 유저가 없습니다 ㅠㅠ</p>\r\n        </div>\r\n        <div className=\"title-body flex column\">\r\n          <p className=\"title-body-main notoBold\">\r\n            나혼자잘산다 유저를 팔로우 해보세요!\r\n          </p>\r\n          <p className=\"title-body-sub notoMid\">\r\n            팔로우한 유저의 다양한 게시글을 한번에 볼 수 있습니다.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"user-title flex justify-center\">\r\n        <p className=\"notoBold fs-36\">\r\n          나혼자 <span className=\"notoBold\">잘</span> 사는 사람들\r\n        </p>\r\n      </div>\r\n      <div className=\"wrapper flex \">\r\n        <div className=\"user-list flex align-center\">\r\n          {isLoading ? (\r\n            popUsers.map(user => {\r\n              return <FeedUserItem changed={changed} data={user} key={v4()} />;\r\n            })\r\n          ) : (\r\n            <img\r\n              src={loadingSpinner}\r\n              title=\"로딩스피너\"\r\n              alt=\"로딩스피너\"\r\n              className=\"loading-spinner\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NonFeed;\r\n","/* eslint-disable no-nested-ternary */\r\nimport CardCarousel from \"@components/FeedPage/CardCarousel\";\r\nimport InFinityScroll from \"@components/common/InFinityScroll\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./FeedPage.scss\";\r\nimport loadingSpinner from \"@images/LoadingSpinner.svg\";\r\nimport { getProfile } from \"@apis/setAccount\";\r\nimport { useAppSelector } from \"@store/hooks\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport NonFeed from \"@components/FeedPage/NonFeed\";\r\n\r\nfunction FeedPage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [followCnt, setFollowCnt] = useState(0);\r\n  const [change, setChange] = useState(false);\r\n  const userInfo = useAppSelector(state => state.auth.userInfo);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      const res = await getProfile(userInfo?.nickname as string);\r\n      if (res.result === \"SUCCESS\") {\r\n        setFollowCnt(res.data.followCount);\r\n      }\r\n      setIsLoading(true);\r\n    })();\r\n  }, [change]);\r\n\r\n  const changed = () => {\r\n    setChange(state => !state);\r\n  };\r\n\r\n  return (\r\n    <div id=\"feed-page\">\r\n      <div className=\"carousel-label flex justify-center\">\r\n        <p className=\"fs-36 notoBold flex justify-center\">\r\n          맞춤형 <span> 꿀</span>딜 추천!\r\n        </p>\r\n      </div>\r\n      {userInfo && <CardCarousel />}\r\n      {!isLoading ? (\r\n        <img\r\n          src={loadingSpinner}\r\n          title=\"로딩스피너\"\r\n          alt=\"로딩스피너\"\r\n          className=\"loading-spinner\"\r\n        />\r\n      ) : followCnt === 0 ? (\r\n        <NonFeed changed={changed} />\r\n      ) : (\r\n        <div className=\"card-list\">\r\n          <div className=\"carousel-label flex justify-center\">\r\n            <p className=\"fs-36 notoBold flex justify-center\">\r\n              팔로워들 <span> 꿀</span>팁!\r\n            </p>\r\n          </div>\r\n          <InFinityScroll\r\n            searchType=\"followTip\"\r\n            type=\"최신순\"\r\n            keyword={null}\r\n            category={undefined}\r\n            categorys={undefined}\r\n            state={undefined}\r\n            area={null}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FeedPage;\r\n"],"names":["type","searchType","keyword","category","categorys","state","area","observerTarget","useRef","dispatch","useAppDispatch","useState","firstLender","setFirstLender","useAppSelector","infinity","uuid","isLoading","isEnd","conditionList","lastIdx","onIntersect","entries","forEach","entry","isIntersecting","setUuid","useEffect","resetInfinity","setIsLoading","setConditionList","observer","IntersectionObserver","threshold","current","observe","disconnect","id","className","length","map","condition","pure","src","loadingSpinner","title","alt","ref","getPopUsers","accessToken","sessionStorage","getItem","API","headers","Authorization","res","data","getHoneyDealList","cardList","setCardList","likeCategorys","auth","userInfo","result","total","trans","currentView","setCurrentView","currentSlide","setCurrentSlide","slideRef","style","transition","transform","window","innerWidth","value","Card","v4","CardSkeleton","onClick","lArrow","rArrow","nickName","follow_nickname","profileImg","tipList","tipViewDtoList","cnt","isFollow","changed","setFollow","delFollow","addFollow","to","UserDummyIcon","feed","FeedListItem","idx","bannerImg","likeCnt","likes","commentCnt","comment","viewCnt","view","popUsers","setPopUsers","user","followCnt","setFollowCnt","change","setChange","navigate","useNavigate","getProfile","nickname","followCount","InFinityScroll","undefined"],"sourceRoot":""}