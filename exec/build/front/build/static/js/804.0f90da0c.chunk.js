"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[804],{84273:function(e,n,t){t.d(n,{Ai:function(){return l},Pt:function(){return o},Zd:function(){return c},_u:function(){return u},hv:function(){return i}});var r=t(88214),s=t(15861),a=t(46729),i=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("access-token"),e.next=3,a.ZP.put("/user",n,{headers:{Authorization:t}});case 3:return s=e.sent,e.abrupt("return",s.data.message);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("access-token"),e.next=3,a.ZP.delete("/user",{headers:{Authorization:n}});case 3:return t=e.sent,e.abrupt("return",t.data.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("access-token"),e.next=3,a.ZP.post("/user/password",{password:n},{headers:{Authorization:t}});case 3:return s=e.sent,e.abrupt("return",s.data.message);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("access-token"))){e.next=6;break}return e.next=4,a.ZP.get("/userFeed/profile/".concat(n),{headers:{Authorization:t}});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:return e.next=8,a.ZP.get("/userFeed/profile/".concat(n));case 8:return i=e.sent,e.abrupt("return",i.data);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.get("/userFeed/post/".concat(n,"?category=").concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},11093:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(72791),s=t(80184);function a(e){var n=e.imgfile,t=e.newImgfile,a=e.imgW,i=e.imgH,c=(0,r.useRef)(null),o=new Image,l=URL.createObjectURL(n);return o.src=l,o.onload=function(){var e=c.current,n=null===e||void 0===e?void 0:e.getContext("2d");if(n&&e){e.width=a,e.height=i,n.fillStyle="white",n.fillRect(0,0,a,i),n.drawImage(o,0,0,a,i);var r=e.toDataURL("image/jpeg");t(r),URL.revokeObjectURL(l)}},(0,s.jsx)("div",{id:"resizer",children:(0,s.jsx)("canvas",{ref:c,children:" "})})}var i=r.memo(a)},62804:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(42982),s=t(88214),a=t(15861),i=t(70885),c=t(1413),o=t(72791),l=t(20501),u=t(16871),d=t(64826),f=t(39575),m=t(11093),p=t(66579),g=t(39846),v=t(84273),x=t(83958),h=t(34108),j=t(80184);function N(){var e=(0,p.C)((function(e){return e.auth.userInfo})),n=(0,o.useRef)(null),t=(0,o.useRef)(null),N=(0,u.s0)(),Z=(0,p.T)();if(!e)return N("/"),(0,j.jsx)("div",{});var b=(0,c.Z)({},e),k=(0,o.useState)(!1),w=(0,i.Z)(k,2),_=w[0],y=w[1],S=(0,o.useState)(""),C=(0,i.Z)(S,2),R=C[0],I=C[1],M=(0,o.useState)(!1),U=(0,i.Z)(M,2),O=U[0],P=U[1],z=(0,o.useState)(b.nickname),A=(0,i.Z)(z,2),L=A[0],F=A[1],D=(0,o.useState)(b.profileMsg?b.profileMsg:null),E=(0,i.Z)(D,2),H=E[0],V=E[1],W=(0,o.useState)(null),K=(0,i.Z)(W,2),T=K[0],q=K[1],B=(0,o.useState)(b.profileImg?"data:image/jpeg;base64,".concat(b.profileImg):d.Z),G=(0,i.Z)(B,2),J=G[0],Q=G[1],X=(0,o.useState)(!1),Y=(0,i.Z)(X,2),$=Y[0],ee=Y[1],ne=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(null===(n=t.current)||void 0===n?void 0:n.value)){e.next=3;break}return t.current.focus(),e.abrupt("return");case 3:return e.next=5,(0,g.Oo)(null===(r=t.current)||void 0===r?void 0:r.value);case 5:i=e.sent,P(!0),(null===(a=t.current)||void 0===a?void 0:a.value.length)>10?(y(!1),I("\ub2c9\ub124\uc784\uc740 10\uc790 \uc774\ud558\uc785\ub2c8\ub2e4.")):"SUCCESS"===i&&t.current?(y(!0),F(t.current.value)):(y(!1),I("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=(0,o.useState)([b.likeNotice,b.followNotice,b.commentNotice,b.replyNotice,b.followerOpen,b.followOpen]),re=(0,i.Z)(te,2),se=re[0],ae=re[1],ie=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[se[0],se[1],se[2],se[3],se[4],se[5]],b.likeNotice=n[0],b.followNotice=n[1],b.commentNotice=n[2],b.replyNotice=n[3],b.followerOpen=n[4],b.followOpen=n[5],L&&(b.nickname=L),b.profileMsg=H,delete b.area,delete b.backgroundImg,e.next=13,(0,v.hv)(b);case 13:if("SUCCESS"!==e.sent){e.next=18;break}return e.next=17,Z((0,x.b)());case 17:N("/userfeed/".concat(L));case 18:ee(!0);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{id:"accountSetting-page",children:[(0,j.jsx)("input",{type:"file",ref:n,accept:"image/*",onChange:function(){var e;if(null!==(e=n.current)&&void 0!==e&&e.files){var t=n.current.files[0];t&&q(t)}}}),(0,j.jsxs)("div",{className:"setprofile notoMid fs-36",children:[(0,j.jsx)("div",{className:"setprofile__title",children:"\ud504\ub85c\ud544 \uc124\uc815"}),(0,j.jsxs)("div",{className:"img-container flex column",children:[(0,j.jsxs)("button",{type:"button",className:"user-container flex",onClick:function(){n.current&&n.current.click()},children:[(0,j.jsx)("img",{className:"img-container__user",src:J,alt:"userImg",title:"userImg"}),(0,j.jsx)("p",{className:"img-container__user-add fs-48",children:"+"})]}),T?(0,j.jsx)(m.Z,{imgfile:T,newImgfile:function(e){if(b){Q(e);var n=e.replace("data:image/jpeg;base64,","");b.profileImg=n}},imgW:300,imgH:300}):null]}),(0,j.jsxs)("div",{className:"text-wrapper flex column",children:[(0,j.jsx)("p",{children:b.nickname}),(0,j.jsx)("textarea",{className:"state notoReg",defaultValue:H,onChange:function(e){return function(e){V(e.target.value)}(e)},onKeyDown:function(e){return function(e){var n=e.target.value;if(n.length>98){var t=n.substring(0,98);return e.target.value=t,void e.target.focus()}var r=n.split("\n");if(r.length>5){var s=r.splice(0,5);e.target.value=s.join("\n"),e.target.focus()}}(e)}}),(0,j.jsx)("p",{className:"text-info fs-12",children:"\ucd5c\ub300 99\uc790 \uc904\ubc14\uafc8\uc740 5\ubc88\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4."})]})]}),(0,j.jsxs)("div",{className:"setaccount",children:[(0,j.jsx)("div",{className:"title notoMid fs-36 p-none",children:"\uacc4\uc815 \uc124\uc815"}),(0,j.jsxs)("div",{className:"main",children:[(0,j.jsxs)("div",{className:"main-account__title flex",children:[(0,j.jsx)("p",{className:"fs-24 notoMid",children:"\ud68c\uc6d0\uc815\ubcf4 \uc218\uc815"}),(0,j.jsx)("button",{onClick:function(){N("/account/withdrawal",{state:!0})},type:"button",className:"fs-12",children:"\ud68c\uc6d0\ud0c8\ud1f4"})]}),(0,j.jsxs)("div",{className:"main-account flex column",children:[(0,j.jsxs)("div",{className:"main-account__nickname flex",children:[(0,j.jsx)("p",{className:"fs-16 notoReg",children:"\ub2c9\ub124\uc784"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("input",{type:"text",ref:t,defaultValue:b.nickname}),O?(0,j.jsx)("p",{className:"notoReg",children:_?(0,j.jsx)("span",{className:"success",children:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."}):(0,j.jsx)("span",{className:"err",children:R})}):null]}),(0,j.jsx)("button",{className:"notoMid fs-12",type:"button",onClick:ne,children:"\uc911\ubcf5\ud655\uc778"})]}),(0,j.jsxs)("div",{className:"main-account__addinfo flex",children:[(0,j.jsx)("p",{className:"fs-16 notoReg",children:"\uc9c0\uc5ed\xb7\ud0dc\uadf8"}),(0,j.jsx)(l.rU,{to:"/join/more",className:"notoMid fs-12",children:"\ubcc0\uacbd\ud558\uae30"}),(0,j.jsx)("div",{children:" "})]}),"normal"===b.social&&(0,j.jsxs)("div",{className:"main-account__addinfo flex",children:[(0,j.jsx)("p",{className:"fs-16 notoReg",children:"\ube44\ubc00\ubc88\ud638"}),(0,j.jsx)(l.rU,{to:"/reset/pw",className:"notoMid fs-12",children:"\ubcc0\uacbd\ud558\uae30"}),(0,j.jsx)("div",{children:" "})]})]}),(0,j.jsx)("div",{className:"main-noti__title fs-24 notoMid",children:"\uc54c\ub9bc \uc124\uc815"}),(0,j.jsx)("div",{className:"main-noti__toggle flex",children:["\uc88b\uc544\uc694","\ud314\ub85c\uc789","\ub313\uae00","\ub300\ub313\uae00"].map((function(e,n){return(0,j.jsxs)("div",{className:"main-noti__toggle-item flex",children:[(0,j.jsx)("p",{className:"notoReg fs-14",children:e}),(0,j.jsxs)("button",{onClick:function(){ae((function(e){var t=(0,r.Z)(e);return t[n]=!t[n],t}))},type:"button",className:"main-noti__toggle-btn flex ".concat(se[n]?"justify-end":null),children:[(0,j.jsx)("div",{className:se[n]?"active-toggle-bar":"toggle-bar",children:null}),(0,j.jsx)("div",{className:se[n]?"active-toggle-circle":"toggle-circle",children:null})]})]},(0,f.Z)())}))}),(0,j.jsx)("div",{className:"main-noti__title fs-24 notoMid",children:"\uacf5\uac1c \uc124\uc815"}),(0,j.jsx)("div",{className:"main-noti__toggle flex",children:["\ud314\ub85c\uc6b0","\ud314\ub85c\uc789"].map((function(e,n){var t=n+4;return(0,j.jsxs)("div",{className:"main-noti__toggle-item flex",children:[(0,j.jsx)("p",{className:"notoReg fs-14",children:e}),(0,j.jsxs)("button",{onClick:function(){ae((function(e){var n=(0,r.Z)(e);return n[t]=!n[t],n}))},type:"button",className:"main-noti__toggle-btn flex ".concat(se[t]?"justify-end":null),children:[(0,j.jsx)("div",{className:se[t]?"active-toggle-bar":"toggle-bar",children:null}),(0,j.jsx)("div",{className:se[t]?"active-toggle-circle":"toggle-circle",children:null})]})]},(0,f.Z)())}))})]})]}),$?(0,j.jsx)("div",{className:"spinner-container",children:(0,j.jsx)("img",{src:h.Z,className:"loading-spinner",alt:"\ub85c\ub529\uc2a4\ud53c\ub108"})}):(0,j.jsxs)("div",{className:"setaccount-submit flex fs-24 notoMid",children:[(0,j.jsx)("button",{className:"setaccount-submit__submit",type:"button",onClick:ie,children:"\uc124\uc815"}),(0,j.jsx)("button",{onClick:function(){N(-1)},className:"setaccount-submit__cancle",type:"button",children:"\ucde8\uc18c"})]})]})}var Z=o.memo(N)}}]);
//# sourceMappingURL=804.0f90da0c.chunk.js.map